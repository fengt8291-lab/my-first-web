<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æé€Ÿç‚¹å‡»æŒ‘æˆ˜</title>
    <style>
        /* CSS æ ·å¼åŒºåŸŸ */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        
        body {
            background-color: #f0f9ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh; /* æ’‘æ»¡å…¨å± */
            text-align: center;
        }

        .game-container {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        h1 { color: #0ea5e9; margin-bottom: 1rem; }
        
        .score-board {
            font-size: 4rem;
            font-weight: bold;
            color: #334155;
            margin: 1rem 0;
        }

        .high-score {
            font-size: 1rem;
            color: #64748b;
            margin-bottom: 2rem;
        }

        /* æ¸¸æˆæŒ‰é’®æ ·å¼ */
        #clickBtn {
            background-color: #0ea5e9;
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            box-shadow: 0 4px 0 #0284c7; /* æŒ‰é’®åº•éƒ¨çš„ç«‹ä½“æ„Ÿ */
        }

        #clickBtn:active {
            transform: translateY(4px); /* æŒ‰ä¸‹å»æ—¶çš„ä½ç§» */
            box-shadow: 0 0 0 #0284c7; /* æŒ‰ä¸‹å»é˜´å½±æ¶ˆå¤± */
        }

        .reset-btn {
            margin-top: 2rem;
            background: none;
            border: 1px solid #cbd5e1;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            color: #64748b;
        }
        .reset-btn:hover { background: #f1f5f9; }

    </style>
</head>
<body>

    <div class="game-container">
        <h1>ğŸš€ æé€Ÿç‚¹å‡»æŒ‘æˆ˜</h1>
        <div class="high-score">å†å²æœ€é«˜åˆ†: <span id="highScore">0</span></div>
        <div class="score-board" id="score">0</div>
        
        <!-- æŒ‰é’®ï¼šç‚¹å‡»äº‹ä»¶ä¼šåœ¨ JS é‡Œå®šä¹‰ -->
        <button id="clickBtn">ç‚¹æˆ‘ï¼ç‚¹æˆ‘ï¼</button>

        <br>
        <button class="reset-btn" id="resetBtn">é‡ç½®åˆ†æ•°</button>
    </div>

    <!-- JavaScript è„šæœ¬åŒºåŸŸï¼šè¿™æ˜¯è®©ç½‘é¡µåŠ¨èµ·æ¥çš„æ ¸å¿ƒ -->
    <script>
           // --- æ¸¸æˆæ ¸å¿ƒé€»è¾‘ ---

        let score = 0;
        let highScore = localStorage.getItem('myGameHighScore') || 0;
        let timeLeft = 10;       // å€’è®¡æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
        let gameActive = false;  // æ¸¸æˆçŠ¶æ€ï¼šfalse=è¿˜æ²¡å¼€å§‹/ç»“æŸäº†, true=æ­£åœ¨ç©
        let timerId = null;      // å®šæ—¶å™¨çš„IDï¼ˆç”¨æ¥å…³é—­é—¹é’Ÿï¼‰

        // æŠ“å–å…ƒç´ 
        const scoreDisplay = document.getElementById('score');
        const highScoreDisplay = document.getElementById('highScore');
        const clickBtn = document.getElementById('clickBtn');
        const resetBtn = document.getElementById('resetBtn');

        // åˆå§‹åŒ–æ˜¾ç¤º
        updateDisplay();

        // --- æ ¸å¿ƒäº‹ä»¶ï¼šç‚¹å‡»æŒ‰é’® ---
        clickBtn.addEventListener('click', () => {
            // 1. å¦‚æœæ¸¸æˆè¿˜æ²¡å¼€å§‹ï¼ˆæ˜¯ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼‰ï¼Œåˆ™å¯åŠ¨æ¸¸æˆ
            if (!gameActive) {
                startGame();
            }

            // 2. å¦‚æœæ¸¸æˆæ­£åœ¨è¿›è¡Œï¼ŒåŠ åˆ†
            if (gameActive) {
                score++;
                updateDisplay();
            }
        });

        // --- æ ¸å¿ƒåŠŸèƒ½ï¼šå¼€å§‹æ¸¸æˆ ---
        function startGame() {
            gameActive = true;      // æ ‡è®°ä¸ºâ€œæ¸¸æˆä¸­â€
            timeLeft = 10;           // é‡ç½®æ—¶é—´
            score = 0;               // é‡ç½®åˆ†æ•°
            clickBtn.innerText = "ç‹‚ç‚¹æˆ‘ï¼ï¼ï¼"; // æ”¹å˜æŒ‰é’®æ–‡å­—æç¤ºç©å®¶å¼€å§‹
            clickBtn.style.backgroundColor = "#ef4444"; // æŒ‰é’®å˜çº¢ï¼Œè¥é€ ç´§å¼ æ„Ÿ

            updateDisplay();

            // ã€å…³é”®ã€‘è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ¯1000æ¯«ç§’ï¼ˆ1ç§’ï¼‰æ‰§è¡Œä¸€æ¬¡
            timerId = setInterval(() => {
                timeLeft--; // æ—¶é—´å‡1
                
                // æ”¹å˜æ ‡é¢˜æ¥æ˜¾ç¤ºå€’è®¡æ—¶
                document.querySelector('h1').innerText = `â³ å‰©ä½™æ—¶é—´: ${timeLeft} ç§’`;

                // å¦‚æœæ—¶é—´åˆ°äº†
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // --- æ ¸å¿ƒåŠŸèƒ½ï¼šç»“æŸæ¸¸æˆ ---
        function endGame() {
            clearInterval(timerId); // åœæ­¢é—¹é’Ÿï¼ˆå¦‚æœä¸å†™è¿™å¥ï¼Œé—¹é’Ÿä¼šä¸€ç›´å“ï¼‰
            gameActive = false;     // æ ‡è®°ä¸ºâ€œæ¸¸æˆç»“æŸâ€
            
            // æ¢å¤æ ‡é¢˜
            document.querySelector('h1').innerText = "â° æ—¶é—´åˆ°ï¼";
            
            // æŒ‰é’®å˜ç°ï¼Œå¹¶æç¤ºä¸å¯ç‚¹å‡»
            clickBtn.disabled = true;
            clickBtn.innerText = "æ—¶é—´åˆ°ï¼ç‚¹é‡ç½®å†æ¥";
            clickBtn.style.backgroundColor = "#94a3b8"; 
            
            // æ£€æŸ¥æœ€é«˜åˆ†
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('myGameHighScore', highScore);
                alert(`ğŸ‰ æ­å–œï¼æ–°çºªå½•ï¼š${score} åˆ†ï¼`);
            } else {
                alert(`æ¸¸æˆç»“æŸï¼ä½ çš„å¾—åˆ†ï¼š${score}`);
            }
            
            updateDisplay();
        }

        // --- é‡ç½®æŒ‰é’®äº‹ä»¶ ---
        resetBtn.addEventListener('click', () => {
            // å¦‚æœæ­£åœ¨æ¸¸æˆä¸­ç‚¹é‡ç½®ï¼Œå…ˆåœæ­¢å®šæ—¶å™¨
            clearInterval(timerId);
            
            // æ¢å¤åˆå§‹çŠ¶æ€
            score = 0;
            timeLeft = 10;
            gameActive = false;
            
            clickBtn.innerText = "ç‚¹æˆ‘ï¼ç‚¹æˆ‘ï¼"; // æ¢å¤æŒ‰é’®æ–‡å­—
            clickBtn.style.backgroundColor = "#0ea5e9"; // æ¢å¤è“è‰²
            document.querySelector('h1').innerText = "ğŸš€ æé€Ÿç‚¹å‡»æŒ‘æˆ˜"; // æ¢å¤æ ‡é¢˜
            clickBtn.disabled = false;
            
            updateDisplay();
        });

        // æ›´æ–°æ˜¾ç¤ºçš„è¾…åŠ©å‡½æ•°
        function updateDisplay() {
            scoreDisplay.innerText = score;
            highScoreDisplay.innerText = highScore;
        }

    </script>

</body>
</html>
