<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>æé€Ÿç‚¹å‡»æŒ‘æˆ˜</title>
    <style>
        /* CSS æ ·å¼åŒºåŸŸ */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        
        body {
            /* ğŸ‘‡ ä¿®æ”¹ 1ï¼šèƒŒæ™¯è‰²æ”¹ç”¨å˜é‡ */
            background-color: var(--bg-color); 
            color: var(--text-color); /* ğŸ‘‡ åŠ ä¸€è¡Œï¼šç¡®ä¿æ–‡å­—é¢œè‰²ä¹Ÿè·Ÿç€å˜ */
            
            display: flex;
            flex-direction: column;
            align-items: center;
            /* min-height æ¯” height æ›´å¥½ï¼Œé˜²æ­¢å†…å®¹è¿‡å¤šæ—¶è¢«æˆªæ–­ */
            min-height: 100vh; 
            text-align: center;
        }

        .game-container {
            /* ğŸ‘‡ ä¿®æ”¹ 2ï¼šå¡ç‰‡èƒŒæ™¯æ”¹ç”¨å˜é‡ */
            background: var(--card-bg);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            /* åŠ ä¸ªå¹³æ»‘è¿‡æ¸¡ */
            transition: background-color 0.3s ease; 
        }

        /* æ ‡é¢˜é¢œè‰²ä¹Ÿç”¨å˜é‡ï¼Œæˆ–è€…ä¿æŒå¼ºè°ƒè‰² */
        h1 { 
            color: var(--accent-color); 
            margin-bottom: 1rem; 
        }
        
        .score-board {
            font-size: 4rem;
            font-weight: bold;
            /* ğŸ‘‡ ä¿®æ”¹ 3ï¼šåˆ†æ•°é¢œè‰² */
            color: var(--text-color);
            margin: 1rem 0;
        }

        .high-score {
            font-size: 1rem;
            /* ğŸ‘‡ ä¿®æ”¹ 4ï¼šæœ€é«˜åˆ†é¢œè‰² */
            color: var(--text-color);
            opacity: 0.7; /* ç¨å¾®æ·¡ä¸€ç‚¹ */
            margin-bottom: 2rem;
        }

        /* æ¸¸æˆæŒ‰é’®æ ·å¼ */
        #clickBtn {
            /* ğŸ‘‡ ä¿®æ”¹ 5ï¼šæŒ‰é’®é¢œè‰²ç”¨å¼ºè°ƒè‰²å˜é‡ */
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            box-shadow: 0 4px 0 var(--accent-color); /* è¿™é‡Œçš„é˜´å½±ä¹Ÿç”¨å˜é‡ä¼šæ›´åè°ƒï¼Œä½†ä¿æŒç«‹ä½“æ„Ÿå¯ä»¥ç¨å¾®æ·±ä¸€ç‚¹ï¼Œæˆ–è€…ç›´æ¥ç»§æ‰¿ */
        }

        #clickBtn:active {
            transform: translateY(4px); 
            box-shadow: none;
        }

        .reset-btn {
            margin-top: 2rem;
            background: transparent; /* æ”¹ä¸ºé€æ˜èƒŒæ™¯ */
            border: 1px solid var(--text-color); /* è¾¹æ¡†ç”¨æ–‡å­—é¢œè‰² */
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            color: var(--text-color); /* æ–‡å­—é¢œè‰² */
            opacity: 0.7;
        }
        .reset-btn:hover { 
            background: var(--text-color); 
            color: var(--bg-color); /* æ‚¬åœæ—¶åè‰² */
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header>
        <!-- LogoåŒºåŸŸ (ä¸ºäº†è®© space-between ç”Ÿæ•ˆï¼Œå¿…é¡»è¦ä¸¤æ ·ä¸œè¥¿) -->
        <div class="logo">My Website</div> 
        
        <!-- é“¾æ¥åŒºåŸŸ -->
        <div class="nav-links">
            <a href="index.html">é¦–é¡µ</a>
            <a href="game.html">æ¸¸æˆ</a>
            <a href="design.html">è®¾è®¡</a>
            <a href="blog.html">æ—¥å¿—</a>
            <button id="themeToggle" style="margin-left: 20px; padding: 5px 10px; border-radius: 5px; border: 1px solid #ccc; background: transparent; color: inherit; cursor: pointer;">
                ğŸŒ™ æ¨¡å¼
            </button>
        </div>
    </header>

    <div class="game-container">
        <h1>ğŸš€ æé€Ÿç‚¹å‡»æŒ‘æˆ˜</h1>
        <div class="high-score">å†å²æœ€é«˜åˆ†: <span id="highScore">0</span></div>
        <div class="score-board" id="score">0</div>
        
        <!-- æŒ‰é’®ï¼šç‚¹å‡»äº‹ä»¶ä¼šåœ¨ JS é‡Œå®šä¹‰ -->
        <button id="clickBtn">ç‚¹æˆ‘ï¼ç‚¹æˆ‘ï¼</button>

        <br>
        <button class="reset-btn" id="resetBtn">é‡ç½®åˆ†æ•°</button>
    </div>

    <!-- JavaScript è„šæœ¬åŒºåŸŸï¼šè¿™æ˜¯è®©ç½‘é¡µåŠ¨èµ·æ¥çš„æ ¸å¿ƒ -->
    <script>
           // --- æ¸¸æˆæ ¸å¿ƒé€»è¾‘ ---

        let score = 0;
        let highScore = localStorage.getItem('myGameHighScore') || 0;
        let timeLeft = 10;       // å€’è®¡æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
        let gameActive = false;  // æ¸¸æˆçŠ¶æ€ï¼šfalse=è¿˜æ²¡å¼€å§‹/ç»“æŸäº†, true=æ­£åœ¨ç©
        let timerId = null;      // å®šæ—¶å™¨çš„IDï¼ˆç”¨æ¥å…³é—­é—¹é’Ÿï¼‰

        // æŠ“å–å…ƒç´ 
        const scoreDisplay = document.getElementById('score');
        const highScoreDisplay = document.getElementById('highScore');
        const clickBtn = document.getElementById('clickBtn');
        const resetBtn = document.getElementById('resetBtn');

        // åˆå§‹åŒ–æ˜¾ç¤º
        updateDisplay();

        // --- æ ¸å¿ƒäº‹ä»¶ï¼šç‚¹å‡»æŒ‰é’® ---
        clickBtn.addEventListener('click', () => {
            // 1. å¦‚æœæ¸¸æˆè¿˜æ²¡å¼€å§‹ï¼ˆæ˜¯ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼‰ï¼Œåˆ™å¯åŠ¨æ¸¸æˆ
            if (!gameActive) {
                startGame();
            }

            // 2. å¦‚æœæ¸¸æˆæ­£åœ¨è¿›è¡Œï¼ŒåŠ åˆ†
            if (gameActive) {
                score++;
                updateDisplay();
            }
        });

        // --- æ ¸å¿ƒåŠŸèƒ½ï¼šå¼€å§‹æ¸¸æˆ ---
        function startGame() {
            gameActive = true;      // æ ‡è®°ä¸ºâ€œæ¸¸æˆä¸­â€
            timeLeft = 10;           // é‡ç½®æ—¶é—´
            score = 0;               // é‡ç½®åˆ†æ•°
            clickBtn.innerText = "ç‹‚ç‚¹æˆ‘ï¼ï¼ï¼"; // æ”¹å˜æŒ‰é’®æ–‡å­—æç¤ºç©å®¶å¼€å§‹
            clickBtn.style.backgroundColor = "#ef4444"; // æŒ‰é’®å˜çº¢ï¼Œè¥é€ ç´§å¼ æ„Ÿ

            updateDisplay();

            // ã€å…³é”®ã€‘è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ¯1000æ¯«ç§’ï¼ˆ1ç§’ï¼‰æ‰§è¡Œä¸€æ¬¡
            timerId = setInterval(() => {
                timeLeft--; // æ—¶é—´å‡1
                
                // æ”¹å˜æ ‡é¢˜æ¥æ˜¾ç¤ºå€’è®¡æ—¶
                document.querySelector('h1').innerText = `â³ å‰©ä½™æ—¶é—´: ${timeLeft} ç§’`;

                // å¦‚æœæ—¶é—´åˆ°äº†
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // --- æ ¸å¿ƒåŠŸèƒ½ï¼šç»“æŸæ¸¸æˆ ---
        function endGame() {
            clearInterval(timerId); // åœæ­¢é—¹é’Ÿï¼ˆå¦‚æœä¸å†™è¿™å¥ï¼Œé—¹é’Ÿä¼šä¸€ç›´å“ï¼‰
            gameActive = false;     // æ ‡è®°ä¸ºâ€œæ¸¸æˆç»“æŸâ€
            
            // æ¢å¤æ ‡é¢˜
            document.querySelector('h1').innerText = "â° æ—¶é—´åˆ°ï¼";
            
            // æŒ‰é’®å˜ç°ï¼Œå¹¶æç¤ºä¸å¯ç‚¹å‡»
            clickBtn.disabled = true;
            clickBtn.innerText = "æ—¶é—´åˆ°ï¼ç‚¹é‡ç½®å†æ¥";
            clickBtn.style.backgroundColor = "#94a3b8"; 
            
            // æ£€æŸ¥æœ€é«˜åˆ†
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('myGameHighScore', highScore);
                alert(`ğŸ‰ æ­å–œï¼æ–°çºªå½•ï¼š${score} åˆ†ï¼`);
            } else {
                alert(`æ¸¸æˆç»“æŸï¼ä½ çš„å¾—åˆ†ï¼š${score}`);
            }
            
            updateDisplay();
        }

        // --- é‡ç½®æŒ‰é’®äº‹ä»¶ ---
        resetBtn.addEventListener('click', () => {
            // å¦‚æœæ­£åœ¨æ¸¸æˆä¸­ç‚¹é‡ç½®ï¼Œå…ˆåœæ­¢å®šæ—¶å™¨
            clearInterval(timerId);
            
            // æ¢å¤åˆå§‹çŠ¶æ€
            score = 0;
            timeLeft = 10;
            gameActive = false;
            
            clickBtn.innerText = "ç‚¹æˆ‘ï¼ç‚¹æˆ‘ï¼"; // æ¢å¤æŒ‰é’®æ–‡å­—
            clickBtn.style.backgroundColor = "#0ea5e9"; // æ¢å¤è“è‰²
            document.querySelector('h1').innerText = "ğŸš€ æé€Ÿç‚¹å‡»æŒ‘æˆ˜"; // æ¢å¤æ ‡é¢˜
            clickBtn.disabled = false;
            
            updateDisplay();
        });

        // æ›´æ–°æ˜¾ç¤ºçš„è¾…åŠ©å‡½æ•°
        function updateDisplay() {
            scoreDisplay.innerText = score;
            highScoreDisplay.innerText = highScore;
        }

    </script>

        <script>
        const toggleBtn = document.getElementById('themeToggle');
        const htmlEl = document.documentElement;

        // ğŸ‘‡ 1. åˆå§‹åŒ–ï¼šè¯»å–å­˜å‚¨çš„ä¸»é¢˜ (æ³¨æ„é”®åæ”¹ä¸º 'theme'ï¼Œä¸åšå®¢ä¿æŒä¸€è‡´)
        const savedTheme = localStorage.getItem('theme') || 'light';
        htmlEl.setAttribute('data-theme', savedTheme);

        // ğŸ‘‡ 2. æ ¹æ®å½“å‰ä¸»é¢˜è®¾ç½®æŒ‰é’®æ–‡å­—
        if (savedTheme === 'dark') {
            toggleBtn.innerText = "â˜€ï¸ æ¨¡å¼"; // äº®èµ·æ¥
        } else {
            toggleBtn.innerText = "ğŸŒ™ æ¨¡å¼"; // å˜æš—
        }

        // ğŸ‘‡ 3. ç»‘å®šç‚¹å‡»äº‹ä»¶
        if (toggleBtn) { 
            toggleBtn.addEventListener('click', () => {
                // è·å–å½“å‰çš„ data-theme å±æ€§å€¼
                const currentTheme = htmlEl.getAttribute('data-theme');
                // åˆ‡æ¢é€»è¾‘
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                
                // åº”ç”¨æ–°çš„ data-theme å±æ€§
                htmlEl.setAttribute('data-theme', newTheme);
                
                // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ (é”®åç»Ÿä¸€ä¸º 'theme')
                localStorage.setItem('theme', newTheme);
                
                // æ›´æ–°æŒ‰é’®æ–‡å­—
                toggleBtn.innerText = newTheme === 'light' ? "ğŸŒ™ æ¨¡å¼" : "â˜€ï¸ æ¨¡å¼";
            });
        }
    </script>


</body>
</html>
